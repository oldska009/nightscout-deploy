(function(e){function t(t){for(var n,o,l=t[0],i=t[1],u=t[2],b=0,d=[];b<l.length;b++)o=l[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==a[i]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=i;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"13a1":function(e,t,r){e.exports=r.p+"img/apollo-graphql-1.9086960b.svg"},"4cae":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a=r("1840"),c=r("a012"),o=r("957f"),l=r("365c"),i=r("7b37"),u={class:"m-auto h-auto mt-4 w-full"};function s(e,t,r,a,c,o){var l=Object(n["B"])("Header"),i=Object(n["B"])("Loader"),s=Object(n["B"])("Error"),b=Object(n["B"])("Main"),d=Object(n["B"])("Footer");return Object(n["t"])(),Object(n["e"])(n["a"],null,[Object(n["h"])(l),Object(n["h"])("main",u,[a.loading?(Object(n["t"])(),Object(n["e"])(i,{key:0})):a.error?(Object(n["t"])(),Object(n["e"])(s,{key:1,error:a.error.message},null,8,["error"])):a.allData?(Object(n["t"])(),Object(n["e"])(b,{key:2,allData:a.allData},null,8,["allData"])):Object(n["f"])("",!0)]),Object(n["h"])(d)],64)}var b={class:"flex items-center justify-between h-headerHeight"},d=Object(n["g"])(" Home "),j={class:"flex flex-row items-center h-full"},p=Object(n["g"])(" Timeline ");function O(e,t,r,a,c,o){var l=Object(n["B"])("router-link");return Object(n["t"])(),Object(n["e"])("nav",b,[Object(n["h"])(l,{to:"/",exact:"",title:"Home",class:"flex text-justify items-center h-full hover:text-blue-600"},{default:Object(n["G"])((function(){return[d]})),_:1}),Object(n["h"])("div",j,[Object(n["h"])(l,{to:"/timeline",rel:"noopener",title:"Timeline",class:"flex text-justify items-center h-full pl-2 hover:text-blue-600"},{default:Object(n["G"])((function(){return[p]})),_:1})])])}var f={name:"Header"};f.render=O;var h=f,v={class:"\n      flex flex-wrap\n      items-center\n      justify-around\n      h-footerHeight\n      w-auto\n      border-t-2\n      bg-footerColor\n    "},m={href:"https://github.com/oldsav/ ",target:"_blank",rel:"noopener noreferrer"},g={href:"https://t.me/oldsav ",target:"_blank",rel:"noopener noreferrer"},y={href:"https://vuejs.org/ ",target:"_blank",rel:"noopener noreferrer"},D={href:"https://graphql.org/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"};function x(e,t,r,a,c,o){var l=Object(n["B"])("font-awesome-icon");return Object(n["t"])(),Object(n["e"])("footer",v,[Object(n["h"])("a",m,[Object(n["h"])(l,{icon:["fab","github"]})]),Object(n["h"])("a",g,[Object(n["h"])(l,{class:"",icon:["fab","telegram-plane"]})]),Object(n["h"])("a",y,[Object(n["h"])(l,{icon:["fab","vuejs"]})]),Object(n["h"])("a",D,[Object(n["h"])("img",{class:"w-6",src:a.graphql,alt:"graphql"},null,8,["src"])]),Object(n["h"])("a",w,[Object(n["h"])("img",{class:"w-6",src:a.nodejs,alt:"nodejs"},null,8,["src"])])])}var _={name:"Footer",setup:function(){return{apollo:r("13a1"),graphql:r("fc7f"),nodejs:r("ef66")}}};_.render=x;var k=_;function E(e,t,r,a,c,o){var l=Object(n["B"])("router-view");return Object(n["t"])(),Object(n["e"])(l)}r("b680"),r("4de4");var I={weekday:"short",year:"numeric",month:"short",day:"numeric"};function G(e){for(var t=Object(n["y"])([]),r=Object(n["y"])(),a=Object(n["y"])(),c=0;c<e.length;c++){var o=new Date(parseInt(e[c].date)).toLocaleDateString("ru-RU",{weekday:"short"}),l=new Date(parseInt(e[c].date)).toLocaleDateString("ru-RU",{year:"numeric",month:"numeric",day:"numeric"});if(o!==r.value)t.value.push({day:o,date:l,data:[]});else{var i=new Date(parseInt(e[c].date)).toLocaleString("ru-RU",{hour:"numeric"});i!==a.value&&t.value[t.value.length-1].data.push({time:i,date:e[c].date,_id:e[c]._id,sgv:(e[c].sgv/18.02).toFixed(1),__typename:e[c].__typename})}a.value=new Date(parseInt(e[c].date)).toLocaleString("ru-RU",{hour:"numeric"}),r.value=new Date(parseInt(e[c].date)).toLocaleDateString("ru-RU",{weekday:"short"})}return{newAllEntries:t}}function T(e){for(var t=Object(n["y"])([]),r=Object(n["y"])(),a=e.filter((function(t){return parseInt(t.date)>parseInt(e[0].date)-6048e5})),c=Object(n["y"])(new Date(parseInt(e[0].date)).toLocaleDateString("ru-RU",I)),o=Object(n["y"])(new Date(parseInt(a[a.length-1].date)).toLocaleDateString("ru-RU",I)),l=0;l<a.length;l++){var i=new Date(parseInt(a[l].date)).toLocaleDateString("ru-RU",{weekday:"short"});i!==r.value?t.value.push({day:i,data:[]}):t.value[t.value.length-1].data.push({date:a[l].date,_id:a[l]._id,sgv:(a[l].sgv/18.02).toFixed(1),__typename:a[l].__typename}),r.value=new Date(parseInt(a[l].date)).toLocaleDateString("ru-RU",{weekday:"short"})}return{startPeriod:c,newEntries:t,endPeriod:o}}var S={name:"Main",props:{allData:{type:Array}},setup:function(e){var t=G(e.allData),r=t.newAllEntries,a=T(e.allData),c=a.startPeriod,o=a.newEntries,l=a.endPeriod;return Object(n["v"])("newAllEntries",r),Object(n["v"])("allData",e.allData),Object(n["v"])("weekEntries",{startPeriod:c,newEntries:o,endPeriod:l}),{}}};S.render=E;var P=S,A={class:"m-auto text-center"};function C(e,t,r,a,c,o){var l=Object(n["B"])("font-awesome-icon");return Object(n["t"])(),Object(n["e"])("div",A,[Object(n["h"])(l,{icon:["fas","bug"],class:"text-red-600 text-7xl"}),Object(n["h"])("p",null,"Error: "+Object(n["D"])(r.error),1)])}var L={name:"Error",props:{error:{type:String}}};L.render=C;var R=L,B={class:"flex justify-center"};function F(e,t,r,a,c,o){var l=Object(n["B"])("font-awesome-icon");return Object(n["t"])(),Object(n["e"])("div",B,[Object(n["h"])(l,{icon:"fan",spin:"",class:"text-gray-700 text-7xl"})])}var H={name:"Loader",props:{}};H.render=F;var U,q,M,z=H,J=r("8785"),W=r("5184"),$=(Object(W["a"])(U||(U=Object(J["a"])(["\n  query getFirstDate {\n    firstDate {\n      date\n    }\n  }\n"]))),Object(W["a"])(q||(q=Object(J["a"])(["\n  query getWeekAllData($START_DATE: String!) {\n    entries(START_DATE: $START_DATE) {\n      date\n      _id\n      sgv\n    }\n  }\n"]))),Object(W["a"])(M||(M=Object(J["a"])(["\n  query getAllDataQuery {\n    allData {\n      date\n      _id\n      sgv\n    }\n  }\n"])))),Q={name:"App",components:{Header:h,Footer:k,Main:P,Error:R,Loader:z},setup:function(e){var t=Object(a["b"])($,(function(){return{START_DATE:null}}),{fetchPolicy:"cache-first"}),r=t.result,n=t.loading,c=t.error,o=(t.refetch,Object(a["c"])(r,null,(function(e){return e.allData})));return{allData:o,loading:n,error:c}}};Q.render=s;var K=Q,N=r("6c02");function V(e,t,r,a,c,o){var l=Object(n["B"])("Diary");return Object(n["t"])(),Object(n["e"])(l)}var X={class:"w-full h-auto"},Y={class:"mb-2"},Z={class:"\n          bg-mainTableHeaderColor\n          max-w-xs\n          pl-1\n          -mb-2\n          rounded-t-2xl rounded-tr-2xl\n        "},ee=Object(n["h"])("h1",{class:""},"Ежедневный журнал",-1),te={class:"text-xs"},re={class:"\n        relative\n        shadow-inner\n        rounded-b-2xl rounded-tr-2xl\n        bg-mainTableColor\n        overflow-hidden\n        z-10\n      "},ne={class:"flex"};function ae(e,t,r,a,c,o){var l=Object(n["B"])("DiaryItem");return Object(n["t"])(),Object(n["e"])("article",X,[Object(n["h"])("section",Y,[Object(n["h"])("div",Z,[ee,Object(n["h"])("h2",te,Object(n["D"])(a.startPeriod)+" - "+Object(n["D"])(a.endPeriod),1)])]),Object(n["h"])("section",re,[Object(n["h"])("ul",ne,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(a.newEntries,(function(e,t){return Object(n["t"])(),Object(n["e"])(l,{key:t,entrie:e,class:"border-r"},null,8,["entrie"])})),128))])])])}var ce={class:"w-1/7 "},oe={class:""},le={class:"text-titleDayFont text-center bg-mainTableHeaderColor"};function ie(e,t,r,a,c,o){var l=Object(n["B"])("DiaryItemData");return Object(n["t"])(),Object(n["e"])("li",ce,[Object(n["h"])("span",oe,[Object(n["h"])("h2",{title:a.titleDay,class:"uppercase font-bold text-center bg-mainTableHeaderColor"},Object(n["D"])(r.entrie.day),9,["title"]),Object(n["h"])("p",le,Object(n["D"])(a.titleDay),1)]),(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.entrie.data,(function(e){return Object(n["t"])(),Object(n["e"])(l,{key:e._id,Entrie:e},null,8,["Entrie"])})),128))])}var ue={class:"\n      flex\n      items-center\n      flex-wrap\n      border\n      rounded-md\n      justify-between\n      my-2\n      text-glucoseDataFont\n    "},se={class:"pl-1"};function be(e,t,r,a,c,o){return Object(n["t"])(),Object(n["e"])("span",ue,[Object(n["h"])("p",se,Object(n["D"])(a.timeLine),1),Object(n["h"])("p",{class:[[r.Entrie.sgv>10?"bg-hightGlucose bg-opacity-50 text-white":"",r.Entrie.sgv<4?"bg-lowGlucose bg-opacity-50 text-white":""],"pr-1"]},Object(n["D"])(r.Entrie.sgv),3)])}var de={name:"DiaryItemData",props:{Entrie:Object},setup:function(e){var t=Object(n["y"])(new Date(parseInt(e.Entrie.date)).toLocaleString("ru-RU",{hour:"numeric",minute:"numeric"}));return{timeLine:t}}};de.render=be;var je=de,pe={components:{DiaryItemData:je},name:"DiaryItem",props:{entrie:Object},setup:function(e){var t=Object(n["y"])(new Date(parseInt(e.entrie.data[0].date)).toLocaleDateString("ru-RU",{year:"numeric",month:"numeric",day:"numeric"}));return{titleDay:t}}};pe.render=ie;var Oe=pe,fe={components:{DiaryItem:Oe},name:"Diary",props:{},setup:function(e){var t=Object(n["l"])("weekEntries"),r=t.startPeriod,a=t.newEntries,c=t.endPeriod;return{startPeriod:r,newEntries:a,endPeriod:c}}};fe.render=ae;var he=fe,ve={name:"Week",components:{Diary:he},setup:function(e){return{}}};ve.render=V;var me=Object(n["I"])("data-v-1e3b4d74");Object(n["w"])("data-v-1e3b4d74");var ge={class:"form_radio_group mx-auto"},ye={class:"form_radio_group-item"},De=Object(n["h"])("label",{for:"radio-1"},"24h",-1),we={class:"form_radio_group-item"},xe=Object(n["h"])("label",{for:"radio-2"},"3d",-1),_e={class:"form_radio_group-item"},ke=Object(n["h"])("label",{for:"radio-3"},"7d",-1),Ee={class:"form_radio_group-item"},Ie=Object(n["h"])("label",{for:"radio-4"},"30d",-1),Ge={class:"\n      glucose_data\n      flex flex-wrap\n      justify-between\n      mt-2\n      border-2\n      rounded-lg\n      p-2\n      bg-mainTableColor\n    "},Te={class:"glucose_range w-auto flex flex-wrap justify-center"},Se={class:"mr-2 text-red-600"},Pe=Object(n["h"])("p",null,"Высокий",-1),Ae={class:"mr-2 text-green-600"},Ce=Object(n["h"])("p",null,"В норме",-1),Le={class:"mr-2 text-blue-600"},Re=Object(n["h"])("p",null,"Низкий",-1),Be={class:"mr-2"},Fe=Object(n["h"])("p",null,"Средний",-1);Object(n["u"])();var He=me((function(e,t,r,a,c,o){return Object(n["t"])(),Object(n["e"])(n["a"],null,[Object(n["h"])("div",ge,[Object(n["h"])("div",ye,[Object(n["h"])("input",{id:"radio-1",type:"radio",name:"radio",value:"86400000",onClick:t[1]||(t[1]=function(){return a.setGlucoseData&&a.setGlucoseData.apply(a,arguments)})}),De]),Object(n["h"])("div",we,[Object(n["h"])("input",{id:"radio-2",type:"radio",name:"radio",value:"259200000",onClick:t[2]||(t[2]=function(){return a.setGlucoseData&&a.setGlucoseData.apply(a,arguments)})}),xe]),Object(n["h"])("div",_e,[Object(n["h"])("input",{id:"radio-3",type:"radio",name:"radio",value:"604800000",onClick:t[3]||(t[3]=function(){return a.setGlucoseData&&a.setGlucoseData.apply(a,arguments)})}),ke]),Object(n["h"])("div",Ee,[Object(n["h"])("input",{id:"radio-4",type:"radio",name:"radio",value:"2629743000",onClick:t[4]||(t[4]=function(){return a.setGlucoseData&&a.setGlucoseData.apply(a,arguments)})}),Ie])]),Object(n["h"])("div",Ge,[Object(n["h"])("ul",Te,[Object(n["h"])("li",Se,[Pe,Object(n["h"])("p",null,Object(n["D"])(a.hightGlucose)+"%",1)]),Object(n["h"])("li",Ae,[Ce,Object(n["h"])("p",null,Object(n["D"])(a.normGlucose)+"%",1)]),Object(n["h"])("li",Le,[Re,Object(n["h"])("p",null,Object(n["D"])(a.lowGlucose)+"%",1)]),Object(n["h"])("li",Be,[Fe,Object(n["h"])("p",null,Object(n["D"])(a.averageGlucose)+" mmol/l",1)])]),Object(n["h"])("div",{class:"\n        h-glucoseCircleHeight\n        w-glucoseCircleWidth\n        rounded-full\n        m-5\n        shadow-2xl\n      ",style:{background:a.conicGradientCalc}},null,4)])],64)}));r("99af"),r("d81d");function Ue(e,t){var r=e.filter((function(r){return parseInt(r.date)>parseInt(e[0].date)-t})),n=(r.reduce((function(e,t){return e+t.sgv/18.02}),0)/r.length).toFixed(1),a=[],c=[],o=[];r.map((function(e){var t=(e.sgv/18.02).toFixed(1);t>=10?a.push(t):t<=4?c.push(t):t<10&&t>4&&o.push(t)}));var l=(100*a.length/r.length).toFixed(1),i=(100*c.length/r.length).toFixed(1),u=(100*o.length/r.length).toFixed(1);return{low:i,hight:l,norm:u,average:n}}var qe={name:"Timeline",setup:function(e){var t=Object(n["l"])("allData"),r=Object(n["y"])(0),a=Object(n["y"])(0),c=Object(n["y"])(0),o=Object(n["y"])(0),l=function(e){var n=Ue(t,parseInt(e.target.value)),l=n.low,i=n.hight,u=n.norm,s=n.average;r.value=l,c.value=u,a.value=i,o.value=s},i=Object(n["c"])((function(){return"conic-gradient(#2563eb 0,#2563eb ".concat(r.value,"%,#dc2626 0,#dc2626 ").concat(a.value,"%,#16a34a 0,#16a34a 100%)")}));return{lowGlucose:r,hightGlucose:a,normGlucose:c,averageGlucose:o,setGlucoseData:l,conicGradientCalc:i}}};r("8132");qe.render=He,qe.__scopeId="data-v-1e3b4d74";var Me=qe,ze=Object(n["I"])("data-v-7b84f623");Object(n["w"])("data-v-7b84f623");var Je={class:"bg-mainTableHeaderColor text-center"},We={class:"text-xs text-center"},$e={class:"flex justify-around flex-wrap w-full bg-mainTableColor"},Qe={class:""};Object(n["u"])();var Ke=ze((function(e,t,r,a,c,o){return Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(a.newAllEntries,(function(e,t){return Object(n["t"])(),Object(n["e"])("div",{class:"flex border-b my-2",key:t},[Object(n["h"])("div",Je,[Object(n["h"])("p",null,Object(n["D"])(e.day),1),Object(n["h"])("p",We,Object(n["D"])(e.date),1)]),Object(n["h"])("ul",$e,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(e.data,(function(e,t){return Object(n["t"])(),Object(n["e"])("li",{class:"text-xl text-center m-1 border rounded-md px-0.5 pb-0.5",key:t,data:e.data},[Object(n["h"])("p",Qe,Object(n["D"])(e.time)+":00",1),Object(n["h"])("p",{class:["font-medium",[e.sgv>9?"bg-hightGlucose bg-opacity-50 text-white rounded-b-md":"",e.sgv<4?"bg-lowGlucose bg-opacity-50 text-white rounded-b-md":""]]},Object(n["D"])(e.sgv),3)],8,["data"])})),128))])])})),128)})),Ne={name:"Journal",props:{},setup:function(e){var t=Object(n["l"])("newAllEntries");return{newAllEntries:t}}};Ne.render=Ke,Ne.__scopeId="data-v-7b84f623";var Ve=Ne,Xe=[{path:"/",name:"Journal",component:Ve,props:!0},{path:"/all",name:"Diary",component:he},{path:"/timeline",name:"Timeline",component:Me}],Ye=Object(N["a"])({history:Object(N["b"])("/"),routes:Xe}),Ze=Ye,et=r("5502"),tt=Object(et["a"])({state:{},mutations:{},actions:{},modules:{}}),rt=(r("4cae"),r("ecee")),nt=r("ad3d"),at=r("c074"),ct=r("b702"),ot=r("f2d1");rt["c"].add(at["f"],at["g"],at["i"],at["e"],at["d"],at["a"],at["b"],at["c"],at["h"],ot["a"],ot["b"],ot["c"],ct["a"]);var lt=Object(c["a"])({uri:"".concat("https://cgmkirill-xpg8.onrender.com","/graphql")}),it=new o["a"],ut=new l["a"]({link:lt,cache:it});Object(n["d"])(K).component("font-awesome-icon",nt["a"]).provide(a["a"],ut).use(tt).use(Ze).use(i["a"],{}).mount("#app")},"77d5":function(e,t,r){},8132:function(e,t,r){"use strict";r("77d5")},ef66:function(e,t,r){e.exports=r.p+"img/nodejs-icon.b337a2fb.svg"},fc7f:function(e,t,r){e.exports=r.p+"img/graphql.6270a2d4.svg"}});
//# sourceMappingURL=app.37c7a11b.js.map